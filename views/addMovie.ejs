<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/styles/common.css">
    <link rel="stylesheet" href="/styles/addMovie.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
</head>
<body>
    <div class="page-wrapper">
        <img src="/assets/logo.png" alt="movie database logo" width="200px" />
        <div class="title"><%= title %></div>
        <form action="/add-movie" method="post">
            <div class="form-row">
                <label for="title">Title</label>
                <input type="text" name="title" id="title" placeholder="Movie title" required />
            </div>
            <div class="form-row">
                <label for="year">Year</label>
                <input type="number" min="1900" max="2099" name="year" id="year" placeholder="Release year" required />
            </div>
            <div class="form-row">
                <label for="genre">Genre</label>
                <select
                    name="genre"
                    id="genre"
                    size="<%= genres.length %>"
                    <%# workaround for select height collapsing bug in chrome inside flexbox %>
                    <%- `style="min-height: calc(1.5em * ${genres.length})"` %>
                    required
                >
                    <% genres.forEach((genre) => { %>
                        <option value="<%= genre.id %>"><%= genre.genre %></option>
                    <% }) %>
                </select>
            </div>
            <div class="form-row">
                <label for="director">Director</label>
                <input type="text" name="director" id="director" placeholder="Name of director" required />
            </div>
            <div class="btn-container">
                <button type="submit" class="menu-btn">Add</button>
                <a href="/">
                    <button type="button" class="menu-btn cancel-btn">Cancel</button>
                </a>
            </div>
        </form>
    </div>
</body>
</html>