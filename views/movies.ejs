<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/styles/common.css">
    <link rel="stylesheet" href="/styles/movies.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
</head>
<body>
    <div class="page-wrapper">
        <img src="/assets/logo.png" alt="movie database logo" width="200px" />
        <div class="title"><%= title %></div>
        <div class="category-container">
            <a href="/movies"><button class="menu-btn">All</button></a>
            <% genres.forEach((genre) => { %>
                <a href="/movies/genre/<%= genre.genre %>">
                    <button class="menu-btn"><%= genre.genre %></button>
                </a>
            <% }) %>
        </div>
        <% if (movies.length === 0) { %>
            <p>No movies found in database.</p>
        <% } else { %>
            <table>
                <thead>
                    <tr>
                        <th scope="col">Title</th>
                        <th scope="col">Year</th>
                        <th scope="col">Genre</th>
                        <th scope="col">Director</th>
                        <th scope="col">Options</th>
                    </tr>
                </thead>
                <tbody>
                    <% movies.forEach((movie) => { %>
                        <tr>
                            <td><i><%= movie.title %></i></td>
                            <td><%= movie.year %></td>
                            <td><%= movie.genre %></td>
                            <td><%= movie.director %></td>
                            <td>
                                <div class="option-container">
                                    <a href="/movies/<%= movie.id %>">
                                        <img src="/assets/view.svg" alt="view icon" width="24px">
                                    </a>
                                    <a href="">
                                        <img src="/assets/edit.svg" alt="edit icon" width="24px">
                                    </a>
                                    <form
                                        action="/movies/<%= movie.id %>/delete"
                                        method="POST"
                                        onsubmit="return confirm('Delete &#34;<%= movie.title %>&#34; ?')"
                                    >
                                        <button type="submit" class="delete-btn">
                                            <img src="/assets/delete.svg" alt="delete icon" width="24px">
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        <% } %>
        <a href="/"><button class="menu-btn">Home</button></a>
    </div>
</body>
</html>